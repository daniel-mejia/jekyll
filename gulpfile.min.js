var gulp=require("gulp"),htmlmin=require("gulp-htmlmin"),sass=require("gulp-sass"),importCss=require("gulp-import-css"),autoprefixer=require("gulp-autoprefixer"),uncss=require("gulp-uncss"),minifyCss=require("gulp-minify-css"),rename=require("gulp-rename"),glob=require("glob"),coffee=require("gulp-coffee");gulp.task("default"),gulp.task("minify",function(){return gulp.src("src/*.html").pipe(htmlmin({collapseWhitespace:!0})).pipe(gulp.dest("dist"))}),gulp.task("css",["jekyll"],function(){return gulp.src("_includes/css/*.css").pipe(sass()).pipe(importCss()).pipe(autoprefixer()).pipe(uncss({html:glob.sync("_site/**/*.html"),ignore:["label.active",".dark-mode","span.tweet-time",/(#|\.)(is-)/,/(#|\.)(has-)/,/(#|\.)(js-)/]})).pipe(minifyCss({keepBreaks:!1})).pipe(rename("style.min.css")).pipe(gulp.dest("_site/style/"))}),gulp.task("scripts",function(){gulp.src("src/*.coffee").pipe(coffee()).pipe(gulp.dest("./"))});